@if (events.length === 0) {
<li class="text-center py-4 text-base-content/80">
  <span>{{ emptyMessage }}</span>
</li>
} @else {
  @for (event of events; track event.ticketmasterId || event._id) {
  <li>
    <button
      (click)="onEventClick(event)"
      class="btn btn-ghost w-full justify-start p-3 h-auto min-h-0 border-0 focus:border-0 hover:border-0 text-left"
      [attr.title]="buttonTitlePrefix + ' ' + getEventTitle(event)"
      type="button"
    >
      <div class="flex items-start gap-3 w-full">
        @if (getEventImage(event)) {
        <div class="avatar flex-shrink-0">
          <div class="w-10 h-10 rounded">
            <img
              [src]="getEventImage(event)"
              [alt]="'Image de l\'événement ' + getEventTitle(event)"
              class="object-cover"
            />
          </div>
        </div>
        } @else {
        <div class="avatar placeholder flex-shrink-0">
          <div
            class="bg-neutral text-neutral-content rounded w-10 h-10"
          >
            <span class="text-xs">
              {{ getEventTitle(event).charAt(0).toUpperCase() }}
            </span>
          </div>
        </div>
        }

        <div class="flex-1 min-w-0 space-y-1">
          <span
            class="font-semibold text-sm text-base-content truncate block"
          >
            {{ truncateText(getEventTitle(event), titleMaxLength) }}
          </span>
          <span class="text-xs text-base-content/80 truncate block">
            {{ truncateText(getEventLocation(event), locationMaxLength) }}
          </span>
          <span class="text-xs text-base-content/80 block">
            {{ formatDate(event) }}
          </span>
        </div>

        @if (actions.length > 0) {
          <div class="flex gap-1 flex-shrink-0">
            @for (action of actions; track action.label) {
            <button
              class="btn btn-sm btn-square"
              [ngClass]="action.className || 'btn-ghost text-base-content hover:bg-base-200'"
              (click)="onActionClick(action, event); $event.stopPropagation()"
              [title]="action.label"
              [attr.aria-label]="action.label"
              type="button"
            >
              <div [innerHTML]="action.icon"></div>
            </button>
            }
          </div>
        }
      </div>
    </button>
  </li>
  }
}